<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="stateGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea"/>
      <stop offset="100%" style="stop-color:#764ba2"/>
    </linearGradient>
    <linearGradient id="runningGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#11998e"/>
      <stop offset="100%" style="stop-color:#38ef7d"/>
    </linearGradient>
    <linearGradient id="pausedGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb"/>
      <stop offset="100%" style="stop-color:#f5576c"/>
    </linearGradient>
    <linearGradient id="snapshotGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe"/>
      <stop offset="100%" style="stop-color:#00f2fe"/>
    </linearGradient>
    <linearGradient id="stoppedGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#636363"/>
      <stop offset="100%" style="stop-color:#a8a8a8"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#fafafa"/>

  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600" fill="#1a1a2e">VM Lifecycle State Diagram</text>

  <!-- Start Node -->
  <circle cx="80" cy="160" r="15" fill="#1a1a2e"/>
  <circle cx="80" cy="160" r="8" fill="#1a1a2e"/>

  <!-- Created State -->
  <rect x="150" y="130" width="120" height="60" rx="8" fill="url(#stateGradient)" filter="url(#shadow)"/>
  <text x="210" y="165" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Created</text>

  <!-- Configured State -->
  <rect x="320" y="130" width="120" height="60" rx="8" fill="url(#stateGradient)" filter="url(#shadow)"/>
  <text x="380" y="165" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Configured</text>

  <!-- Running State -->
  <rect x="490" y="130" width="120" height="60" rx="8" fill="url(#runningGradient)" filter="url(#shadow)"/>
  <text x="550" y="165" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Running</text>

  <!-- Paused State -->
  <rect x="490" y="280" width="120" height="60" rx="8" fill="url(#pausedGradient)" filter="url(#shadow)"/>
  <text x="550" y="315" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Paused</text>

  <!-- Snapshot State -->
  <rect x="320" y="380" width="120" height="60" rx="8" fill="url(#snapshotGradient)" filter="url(#shadow)"/>
  <text x="380" y="415" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Snapshot</text>

  <!-- Stopped State -->
  <rect x="660" y="130" width="120" height="60" rx="8" fill="url(#stoppedGradient)" filter="url(#shadow)"/>
  <text x="720" y="165" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500" fill="white">Stopped</text>

  <!-- End Node -->
  <circle cx="720" cy="280" r="15" fill="none" stroke="#1a1a2e" stroke-width="3"/>
  <circle cx="720" cy="280" r="8" fill="#1a1a2e"/>

  <!-- Arrows and Labels -->

  <!-- Start -> Created -->
  <line x1="95" y1="160" x2="145" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="120" y="150" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">process started</text>

  <!-- Created -> Configured -->
  <line x1="270" y1="160" x2="315" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="292" y="150" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">API calls</text>

  <!-- Configured -> Running -->
  <line x1="440" y1="160" x2="485" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="462" y="150" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">InstanceStart</text>

  <!-- Running -> Stopped -->
  <line x1="610" y1="160" x2="655" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="632" y="150" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Shutdown</text>

  <!-- Stopped -> End -->
  <line x1="720" y1="190" x2="720" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Running -> Paused -->
  <line x1="550" y1="190" x2="550" y2="275" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="565" y="235" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Pause</text>

  <!-- Paused -> Running -->
  <line x1="520" y1="280" x2="520" y2="195" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="505" y="235" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666" text-anchor="end">Resume</text>

  <!-- Paused -> Snapshot -->
  <path d="M 490 310 Q 420 310 420 375" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="445" y="345" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Create</text>

  <!-- Snapshot -> Paused -->
  <path d="M 440 410 Q 500 410 500 345" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="475" y="390" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Complete</text>

  <!-- Start -> Running (Load Snapshot) -->
  <path d="M 80 175 Q 80 400 315 410" fill="none" stroke="#4facfe" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <text x="150" y="350" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#4facfe">Load snapshot + Resume</text>

  <!-- Snapshot -> Running (via arrow from snapshot load path) -->
  <path d="M 380 380 Q 380 250 485 200" fill="none" stroke="#4facfe" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <rect x="30" y="450" width="740" height="40" rx="5" fill="#f0f0f0"/>
  <text x="50" y="475" font-family="Inter, system-ui, sans-serif" font-size="11" fill="#666">Legend:</text>
  <circle cx="120" cy="470" r="6" fill="#1a1a2e"/>
  <text x="135" y="475" font-family="Inter, system-ui, sans-serif" font-size="11" fill="#666">Start/End</text>
  <line x1="200" y1="470" x2="240" y2="470" stroke="#666" stroke-width="2"/>
  <text x="250" y="475" font-family="Inter, system-ui, sans-serif" font-size="11" fill="#666">Transition</text>
  <line x1="340" y1="470" x2="380" y2="470" stroke="#4facfe" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="390" y="475" font-family="Inter, system-ui, sans-serif" font-size="11" fill="#666">Snapshot restore path</text>
</svg>