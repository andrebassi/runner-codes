<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 500">
  <defs>
    <linearGradient id="awsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff9900;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff6600;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vpcGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e0f2fe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bae6fd;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ec2GradientA" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fcGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="s3GradientA" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
    </linearGradient>
    <filter id="shadowA" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="4" stdDeviation="4" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background - AWS Cloud -->
  <rect width="750" height="500" fill="#f8fafc" rx="12"/>
  <rect x="20" y="20" width="710" height="460" rx="10" fill="url(#awsGradient)" fill-opacity="0.1" stroke="#ff9900" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="375" y="50" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#ff9900" text-anchor="middle">AWS Cloud</text>

  <!-- VPC -->
  <rect x="40" y="70" width="490" height="340" rx="8" fill="url(#vpcGradient)" stroke="#0284c7" stroke-width="1.5"/>
  <text x="285" y="95" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#0369a1" text-anchor="middle">VPC (us-east-1)</text>

  <!-- Public Subnet -->
  <rect x="60" y="110" width="450" height="280" rx="6" fill="white" stroke="#0ea5e9" stroke-width="1"/>
  <text x="285" y="135" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="500" fill="#0369a1" text-anchor="middle">Public Subnet</text>

  <!-- EC2 Metal Instance -->
  <rect x="80" y="150" width="410" height="220" rx="8" fill="url(#ec2GradientA)" filter="url(#shadowA)"/>
  <text x="285" y="175" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="white" text-anchor="middle">EC2 Metal Instance (m5zn.metal)</text>

  <!-- infra.operator (host) -->
  <rect x="100" y="190" width="140" height="50" rx="6" fill="white" fill-opacity="0.95"/>
  <text x="170" y="220" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="500" fill="#1e293b" text-anchor="middle">infra.operator (Go)</text>

  <!-- Arrow to Firecracker -->
  <path d="M240 215 L260 215" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowAws)"/>
  <defs>
    <marker id="arrowAws" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Firecracker VMM -->
  <rect x="260" y="190" width="210" height="160" rx="6" fill="url(#fcGradient)" fill-opacity="0.9"/>
  <text x="365" y="215" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Firecracker VMM</text>

  <!-- microVM -->
  <rect x="275" y="225" width="180" height="110" rx="4" fill="white" fill-opacity="0.95"/>
  <text x="365" y="250" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="500" fill="#1e293b" text-anchor="middle">microVM</text>
  <text x="365" y="275" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">infra.operator guest</text>
  <text x="365" y="295" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">+ Language Runtime</text>
  <text x="365" y="320" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">(Python, Node.js, Go, ...)</text>

  <!-- S3 Bucket -->
  <rect x="550" y="150" width="170" height="200" rx="8" fill="url(#s3GradientA)" filter="url(#shadowA)"/>
  <text x="635" y="180" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">S3 Bucket</text>

  <!-- S3 Files -->
  <rect x="565" y="195" width="140" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="635" y="215" font-family="monospace" font-size="9" fill="#1e293b" text-anchor="middle">rootfs-python.ext4</text>

  <rect x="565" y="230" width="140" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="635" y="250" font-family="monospace" font-size="9" fill="#1e293b" text-anchor="middle">rootfs-nodejs.ext4</text>

  <rect x="565" y="265" width="140" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="635" y="285" font-family="monospace" font-size="9" fill="#1e293b" text-anchor="middle">rootfs-go.ext4</text>

  <rect x="565" y="300" width="140" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="635" y="320" font-family="monospace" font-size="9" fill="#1e293b" text-anchor="middle">...</text>

  <!-- Arrow EC2 to S3 -->
  <path d="M490 260 L545 260" stroke="#64748b" stroke-width="2" fill="none"/>
  <path d="M545 260 L530 250 M545 260 L530 270" stroke="#64748b" stroke-width="2" fill="none"/>

  <!-- Info boxes -->
  <rect x="40" y="420" width="150" height="50" rx="6" fill="#fef3c7" stroke="#fde047" stroke-width="1"/>
  <text x="115" y="440" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="#92400e" text-anchor="middle">KVM Support</text>
  <text x="115" y="455" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#92400e" text-anchor="middle">/dev/kvm access</text>

  <rect x="200" y="420" width="150" height="50" rx="6" fill="#dcfce7" stroke="#86efac" stroke-width="1"/>
  <text x="275" y="440" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="#166534" text-anchor="middle">vhost-vsock</text>
  <text x="275" y="455" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#166534" text-anchor="middle">VM communication</text>

  <rect x="360" y="420" width="150" height="50" rx="6" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="435" y="440" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="#1d4ed8" text-anchor="middle">S3 Integration</text>
  <text x="435" y="455" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#1d4ed8" text-anchor="middle">Fast rootfs sync</text>

  <rect x="520" y="420" width="150" height="50" rx="6" fill="#ede9fe" stroke="#c4b5fd" stroke-width="1"/>
  <text x="595" y="440" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="#6d28d9" text-anchor="middle">Scalability</text>
  <text x="595" y="455" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#6d28d9" text-anchor="middle">Multi-instance support</text>
</svg>
