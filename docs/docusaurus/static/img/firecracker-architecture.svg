<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="hostGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1E293B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0F172A;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fcGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EA580C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vmmGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vmGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#0f172a" rx="12"/>

  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="white" font-family="system-ui" font-size="18" font-weight="600">Firecracker Architecture</text>

  <!-- Host OS Container -->
  <g filter="url(#shadow)">
    <rect x="30" y="55" width="740" height="430" rx="10" fill="url(#hostGrad)" stroke="#334155" stroke-width="2"/>
    <text x="55" y="85" fill="#94A3B8" font-family="system-ui" font-size="14" font-weight="600">Host OS</text>
  </g>

  <!-- Firecracker Process -->
  <g filter="url(#shadow)">
    <rect x="60" y="100" width="680" height="240" rx="8" fill="url(#fcGrad)"/>
    <text x="90" y="130" fill="white" font-family="system-ui" font-size="14" font-weight="600">Firecracker Process</text>
  </g>

  <!-- API Server -->
  <rect x="90" y="145" width="620" height="60" rx="6" fill="#0F172A"/>
  <text x="110" y="175" fill="#F97316" font-family="system-ui" font-size="13" font-weight="600">API Server</text>
  <text x="110" y="195" fill="#94A3B8" font-family="monospace" font-size="10">Unix Socket: /tmp/fc-{id}.sock</text>
  <text x="400" y="195" fill="#64748B" font-family="system-ui" font-size="10">Endpoints: /machine-config, /boot-source, /drives, /vsock</text>

  <!-- Arrow down -->
  <path d="M400 205 L400 225" stroke="#F97316" stroke-width="2" fill="none" marker-end="url(#arrowOrange)"/>
  <defs>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#F97316"/>
    </marker>
  </defs>

  <!-- VMM Core -->
  <rect x="90" y="225" width="620" height="100" rx="6" fill="url(#vmmGrad)"/>
  <text x="350" y="250" fill="white" font-family="system-ui" font-size="13" font-weight="600">VMM Core</text>

  <!-- VMM Components -->
  <rect x="110" y="260" width="150" height="50" rx="4" fill="#0F172A"/>
  <text x="185" y="290" text-anchor="middle" fill="#3B82F6" font-family="system-ui" font-size="11" font-weight="500">vCPU Thread</text>

  <rect x="280" y="260" width="150" height="50" rx="4" fill="#0F172A"/>
  <text x="355" y="290" text-anchor="middle" fill="#3B82F6" font-family="system-ui" font-size="11" font-weight="500">Memory Mgmt</text>

  <rect x="450" y="260" width="150" height="50" rx="4" fill="#0F172A"/>
  <text x="525" y="290" text-anchor="middle" fill="#3B82F6" font-family="system-ui" font-size="11" font-weight="500">Device Model</text>

  <rect x="620" y="260" width="80" height="50" rx="4" fill="#0F172A"/>
  <text x="660" y="290" text-anchor="middle" fill="#3B82F6" font-family="system-ui" font-size="11" font-weight="500">Serial</text>

  <!-- KVM Arrow -->
  <rect x="350" y="350" width="100" height="30" rx="4" fill="#EF4444"/>
  <text x="400" y="370" text-anchor="middle" fill="white" font-family="system-ui" font-size="12" font-weight="600">KVM</text>

  <!-- microVM -->
  <g filter="url(#shadow)">
    <rect x="60" y="395" width="680" height="75" rx="8" fill="url(#vmGrad)"/>
    <text x="90" y="425" fill="white" font-family="system-ui" font-size="14" font-weight="600">microVM</text>
  </g>

  <!-- VM Components -->
  <rect x="90" y="435" width="140" height="25" rx="4" fill="#0F172A"/>
  <text x="160" y="452" text-anchor="middle" fill="#10B981" font-family="system-ui" font-size="10">Linux Kernel</text>

  <rect x="250" y="435" width="140" height="25" rx="4" fill="#0F172A"/>
  <text x="320" y="452" text-anchor="middle" fill="#10B981" font-family="system-ui" font-size="10">Rootfs</text>

  <rect x="410" y="435" width="140" height="25" rx="4" fill="#0F172A"/>
  <text x="480" y="452" text-anchor="middle" fill="#10B981" font-family="system-ui" font-size="10">infra.operator guest</text>

  <rect x="570" y="435" width="150" height="25" rx="4" fill="#0F172A"/>
  <text x="645" y="452" text-anchor="middle" fill="#10B981" font-family="system-ui" font-size="10">User Application</text>
</svg>
