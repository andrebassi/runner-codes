<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 280">
  <defs>
    <linearGradient id="bgGradRootfs" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fef2f2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fecaca;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nodeGradR" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#dc2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b91c1c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="s3Grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="decisionGradR" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <filter id="shadowR" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowR" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="700" height="280" fill="url(#bgGradRootfs)" rx="12"/>

  <!-- Title -->
  <text x="350" y="28" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#1e293b" text-anchor="middle">Rootfs Creation Flow</text>

  <!-- Row 1 -->
  <!-- Node 1: aws:launch -->
  <rect x="40" y="55" width="100" height="40" rx="6" fill="url(#nodeGradR)" filter="url(#shadowR)"/>
  <text x="90" y="80" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="white" text-anchor="middle">aws:launch</text>

  <!-- Arrow 1-2 -->
  <line x1="140" y1="75" x2="170" y2="75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Node 2: aws:deploy -->
  <rect x="180" y="55" width="100" height="40" rx="6" fill="url(#nodeGradR)" filter="url(#shadowR)"/>
  <text x="230" y="80" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="white" text-anchor="middle">aws:deploy</text>

  <!-- Arrow 2-3 -->
  <line x1="280" y1="75" x2="310" y2="75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Node 3: create-rootfs-python -->
  <rect x="320" y="55" width="140" height="40" rx="6" fill="url(#nodeGradR)" filter="url(#shadowR)"/>
  <text x="390" y="72" font-family="system-ui, -apple-system, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">aws:create-rootfs</text>
  <text x="390" y="86" font-family="system-ui, -apple-system, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">-python</text>

  <!-- Arrow 3-4 -->
  <line x1="460" y1="75" x2="490" y2="75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Node 4: Auto-upload to S3 -->
  <rect x="500" y="55" width="120" height="40" rx="6" fill="url(#s3Grad)" filter="url(#shadowR)"/>
  <text x="560" y="72" font-family="system-ui, -apple-system, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">Auto-upload</text>
  <text x="560" y="86" font-family="system-ui, -apple-system, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">to S3</text>

  <!-- Arrow down from S3 -->
  <line x1="560" y1="95" x2="560" y2="125" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Node 5: s3:list -->
  <rect x="500" y="130" width="120" height="40" rx="6" fill="url(#s3Grad)" filter="url(#shadowR)"/>
  <text x="560" y="155" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="white" text-anchor="middle">s3:list</text>

  <!-- Arrow to decision -->
  <line x1="500" y1="150" x2="450" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>

  <!-- Decision: More Languages? -->
  <polygon points="390,150 450,180 390,210 330,180" fill="url(#decisionGradR)" filter="url(#shadowR)"/>
  <text x="390" y="175" font-family="system-ui, -apple-system, sans-serif" font-size="8" font-weight="500" fill="white" text-anchor="middle">More</text>
  <text x="390" y="186" font-family="system-ui, -apple-system, sans-serif" font-size="8" font-weight="500" fill="white" text-anchor="middle">Langs?</text>

  <!-- Yes path - loop back -->
  <text x="358" y="135" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#10b981">Yes</text>
  <path d="M330 180 L280 180 L280 95 L320 95" stroke="#10b981" stroke-width="2" fill="none" marker-end="url(#arrowR)"/>
  <rect x="260" y="118" width="70" height="25" rx="4" fill="url(#nodeGradR)" filter="url(#shadowR)"/>
  <text x="295" y="130" font-family="system-ui, -apple-system, sans-serif" font-size="7" font-weight="500" fill="white" text-anchor="middle">aws:create</text>
  <text x="295" y="140" font-family="system-ui, -apple-system, sans-serif" font-size="7" font-weight="500" fill="white" text-anchor="middle">-rootfs-*</text>

  <!-- No path -->
  <line x1="390" y1="210" x2="390" y2="240" stroke="#64748b" stroke-width="2" marker-end="url(#arrowR)"/>
  <text x="402" y="225" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#64748b">No</text>

  <!-- Final: test-all-languages -->
  <rect x="310" y="245" width="160" height="30" rx="6" fill="#10b981" filter="url(#shadowR)"/>
  <text x="390" y="265" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="500" fill="white" text-anchor="middle">aws:test-all-languages</text>
</svg>
