<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350">
  <defs>
    <linearGradient id="stepGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563EB;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#1E293B" font-family="system-ui" font-size="18" font-weight="700">Rootfs Build Process</text>

  <!-- Step 1 -->
  <rect x="20" y="60" width="110" height="70" rx="8" fill="url(#stepGrad)"/>
  <text x="75" y="85" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">1. Create</text>
  <text x="75" y="100" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">ext4 Image</text>
  <text x="75" y="118" text-anchor="middle" fill="#BFDBFE" font-family="monospace" font-size="9">dd + mkfs.ext4</text>

  <line x1="130" y1="95" x2="155" y2="95" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 2 -->
  <rect x="160" y="60" width="110" height="70" rx="8" fill="url(#stepGrad)"/>
  <text x="215" y="85" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">2. Debootstrap</text>
  <text x="215" y="100" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">Ubuntu 22.04</text>
  <text x="215" y="118" text-anchor="middle" fill="#BFDBFE" font-family="monospace" font-size="9">jammy minbase</text>

  <line x1="270" y1="95" x2="295" y2="95" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 3 -->
  <rect x="300" y="60" width="110" height="70" rx="8" fill="url(#stepGrad)"/>
  <text x="355" y="85" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">3. Configure</text>
  <text x="355" y="100" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">APT Sources</text>
  <text x="355" y="118" text-anchor="middle" fill="#BFDBFE" font-family="monospace" font-size="9">sources.list</text>

  <line x1="410" y1="95" x2="435" y2="95" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 4 -->
  <rect x="440" y="60" width="110" height="70" rx="8" fill="url(#stepGrad)"/>
  <text x="495" y="85" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">4. Install</text>
  <text x="495" y="100" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">Packages</text>
  <text x="495" y="118" text-anchor="middle" fill="#BFDBFE" font-family="monospace" font-size="9">apt-get install</text>

  <line x1="550" y1="95" x2="575" y2="95" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 5 -->
  <rect x="580" y="60" width="110" height="70" rx="8" fill="#059669"/>
  <text x="635" y="85" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">5. Install</text>
  <text x="635" y="100" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">infra.operator</text>
  <text x="635" y="118" text-anchor="middle" fill="#A7F3D0" font-family="monospace" font-size="9">/usr/local/bin</text>

  <line x1="690" y1="95" x2="715" y2="95" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 6 -->
  <rect x="720" y="60" width="60" height="70" rx="8" fill="#F97316"/>
  <text x="750" y="90" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">6.</text>
  <text x="750" y="105" text-anchor="middle" fill="white" font-family="system-ui" font-size="11" font-weight="600">Done</text>

  <!-- Output Files Section -->
  <rect x="20" y="160" width="760" height="170" rx="10" fill="#F8FAFC" stroke="#E2E8F0"/>
  <text x="400" y="185" text-anchor="middle" fill="#475569" font-family="system-ui" font-size="14" font-weight="600">Output Files</text>

  <!-- Rootfs output -->
  <rect x="40" y="200" width="220" height="110" rx="6" fill="white" stroke="#E2E8F0"/>
  <text x="150" y="225" text-anchor="middle" fill="#1E293B" font-family="system-ui" font-size="12" font-weight="600">rootfs-{lang}.ext4</text>
  <text x="150" y="250" text-anchor="middle" fill="#64748B" font-family="monospace" font-size="10">/srv/firecracker/images/</text>
  <text x="150" y="280" text-anchor="middle" fill="#059669" font-family="system-ui" font-size="11">Size: 500MB - 2GB</text>
  <text x="150" y="300" text-anchor="middle" fill="#64748B" font-family="system-ui" font-size="10">per language</text>

  <!-- Structure -->
  <rect x="290" y="200" width="220" height="110" rx="6" fill="white" stroke="#E2E8F0"/>
  <text x="400" y="225" text-anchor="middle" fill="#1E293B" font-family="system-ui" font-size="12" font-weight="600">Rootfs Structure</text>
  <text x="310" y="250" fill="#64748B" font-family="monospace" font-size="10">/usr/local/bin/infra.operator</text>
  <text x="310" y="270" fill="#64748B" font-family="monospace" font-size="10">/etc/systemd/system/*.service</text>
  <text x="310" y="290" fill="#64748B" font-family="monospace" font-size="10">/usr/bin/{python3,node,...}</text>

  <!-- S3 Upload -->
  <rect x="540" y="200" width="220" height="110" rx="6" fill="white" stroke="#E2E8F0"/>
  <text x="650" y="225" text-anchor="middle" fill="#1E293B" font-family="system-ui" font-size="12" font-weight="600">S3 Storage</text>
  <text x="650" y="255" text-anchor="middle" fill="#2563EB" font-family="monospace" font-size="10">s3://llm-firecracker/</text>
  <text x="650" y="275" text-anchor="middle" fill="#2563EB" font-family="monospace" font-size="10">rootfs-python.ext4</text>
  <text x="650" y="295" text-anchor="middle" fill="#64748B" font-family="system-ui" font-size="10">Optional upload for distribution</text>
</svg>
